version: '3.8'

services:
  worker:
    build:
      context: ".."
      dockerfile: "scripts/Dockerfile.worker"
    networks:
      hotstuff:
    environment:
      - AUTHORIZED_KEYS=${AUTHORIZED_KEYS}

  controller:
    build:
      context: ".."
      dockerfile: "scripts/Dockerfile.controller"
    networks:
      hotstuff:
    entrypoint: sleep infinity

networks:
  hotstuff:
    ipam:
      config:
        - subnet: "192.168.1.0/24"
